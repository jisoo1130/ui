<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  <link rel="stylesheet" href="./common/css/reset.css">
  <link rel="stylesheet" href="./common/css/style.css">
  <script src="./common/js/jquery-2.2.4.min.js"></script>
  <script src="./common/js/jquery-ui.min.js"></script>
  <script src="./common/js/index.js"></script>
  <script id="snowAnimate">
    var flakeCnt; var delta_x = new Array(), delta_y = new Array(); var move_x = new Array(), move_y = new Array(); var resolution_x, resolution_y; $(function () { resolution_x = document.documentElement.clientWidth, resolution_y = document.documentElement.clientHeight; var position_x, position_y, i = 0; flakeCnt = document.getElementById('petalCanvas').getElementsByTagName('span').length; $("#petalCanvas span").each(function () { position_x = Math.random() * resolution_x; position_y = -30 - (Math.random() * 100); $(this).css({ "left": position_x + "px", "top": position_y + "px" }); $(this).attr("id", "drop" + i); move_x[i] = position_x; move_y[i] = position_y; i++; }); petalSet(); }); function petalSet() { var hei, speed; if (resolution_y < 1000) { hei = 1000; } else { hei = resolution_y; } var max_angle = hei / 2; for (var i = 0; i < flakeCnt; i++) { speed = Math.random(); delta_x[i] = (speed * max_angle) / 1200 + i / 100; delta_y[i] = (speed * 0.4) + 0.3; } petalDrop(); } function petalDrop() { for (var i = 0; i < flakeCnt; i++) { move_x[i] -= delta_x[i]; move_y[i] += delta_y[i]; if (move_x[i] < 0) move_x[i] = resolution_x - 30; if (move_y[i] > resolution_y - 10) move_y[i] = -20; $("#drop" + i).css({ "left": move_x[i] + "px", "top": move_y[i] + "px" }); } setTimeout("petalDrop()", 10); }
  </script>
  <script>

    // 스크롤 방지
    $('html, body').css({ 'overflow': 'hidden', 'height': '100%' });
    $('html, body').on('scroll touchmove mousewheel', function (event) {
      event.preventDefault();
      event.stopPropagation();
      return false;
    });

    setTimeout(function () {
      var audio = new Audio('./common/music/music.mp3');
      audio.play();
    }, 300);
    $(document).ready(function () {


      // 초기화
      let windowH = $(window).height();
      let $screen = $('html, body');
      let $step = $('.story > .step');
      let $nextBtn = $('.next_btn');
      let $snow = $('#petalCanvas');
      let screenIdx = 0;
      let ingBln = false;

      $step.height(windowH);

      $nextBtn.on('click', function () {
        screenIdx++;

        // if (screenIdx === 1) {
        //   step01();
        // } else if (screenIdx === 2) {
        //   step02();
        // } else if (screenIdx === 3) {
        //   step03();
        // } else if (screenIdx === 4) {
        //   step04();
        // } else if (screenIdx === 5) {
        //   step05();
        // } else if (screenIdx === 6) {
        //   step06();
        // } else if (screenIdx === 7) {
        //   step07();
        // }
      });

      init();

      function init() {
        // disableBtn(true);
        typing('안녕 빛나야~! 이 편지를 읽고 있을때는 같이 맛있는 식사를 하면서 오손도손 미래에 대해서 얘기를 나누고 있겠지..? 그리고 빛나는 갑자기 성주가 왜 이걸 보여주는지도 의아할거야.. 맞아..! 오늘은 우리의 특별한 기념일도 아니며 누구의 생일도 아니야 ..! 하지만.. 오늘은 우리가 만난지 148일이 되는 날이며.. 빛나가 낮에 처음으로 평촌까지 한번에 운전해서 온 날이이야..! 빛나가 동네 친구와 같이 술먹으면 잠든 어제의 성주에 대해서 실망했던 날이고.. 그에 대해서 성주는 다시는 이런일이 없도록 다짐하며 고치겠다 다짐한 날이며.. 천사 빛나는 성주의 부모님이 어떤 선물을 좋아할까 몇달전부터 고민한 선물을 드린 날이고.. 빛나가 나의 부모님께 예쁘게 보이기 위해 어머니와 같이 정성스럽게 고른 원피스를 입고온 날이며.. 그런 빛나에 대해 내가 오늘 너무 감동을 받은 날이야..! 이것보다 더한 기념일이 있을까..? 나는 없다고 봐..! 빛나와 함께하는 1분 1초는 모든 시간이 내 인생의 기념일이야..! 이렇게 이쁘고 사랑스러운 빛나에게 이런 큰 사랑을 받는다는게 나에게는 하루하루가 기적이야 :) 그 기적을 받은 나는 빛나에게 내 사랑을 아낌없이 주고싶어..! 그리고 부트캠프(위코드) 및 직군 전향을 도전하는 빛나가 정말 멋지며 그만큼 내가 힘이 되어주고 싶어 ..! 존중해주고 응원해줘서 고맙고  사랑해준 빛나에게 나는 더 큰 사랑으로 보답할게 :) 나의 가족이 빛나라는 사실이 너무 행복하다.. 나와 결혼해 줘서 고마워.. 사랑해 빛나야', $('.step').eq(0));
      }

      // function step01() {
      //   // disableBtn(true);
      //   $step.addClass('on');
      //   // $snow.animate({
      //   //   opacity: 0
      //   // }, 1000);

      //   // move(windowH, 3000);

      //   // setTimeout(function () {
      //   //   $step.eq(1).find('.binna').animate({
      //   //     opacity: 1
      //   //   }, 1000, function () {
      //   //     typing('안녕 빛나야~! 이 편지를 읽고 있을때는 같이 맛있는 식사를 하면서 오손도손 미래에 대해서 얘기를 나누고 있겠지..? 그리고 빛나는 갑자기 성주가 왜 이걸 보여주는지도 의아할거야.. 맞아..! 오늘은 우리의 특별한 기념일도 아니며 누구의 생일도 아니야 ..! 하지만.. 오늘은 우리가 만난지 148일이 되는 날이며.. 빛나가 낮에 처음으로 평촌까지 한번에 운전해서 온 날이이야..! 빛나가 동네 친구와 같이 술먹으면 잠든 어제의 성주에 대해서 실망했던 날이고.. 그에 대해서 성주는 다시는 이런일이 없도록 다짐하며 고치겠다 다짐한 날이며.. 천사 빛나는 성주의 부모님이 어떤 선물을 좋아할까 몇달전부터 고민한 선물을 드린 날이고.. 빛나가 나의 부모님께 예쁘게 보이기 위해 어머니와 같이 정성스럽게 고른 원피스를 입고온 날이며.. 그런 빛나에 대해 내가 오늘 너무 감동을 받은 날이야..! 이것보다 더한 기념일이 있을까..? 나는 없다고 봐..! 빛나와 함께하는 1분 1초는 모든 시간이 내 인생의 기념일이야..! 이렇게 이쁘고 사랑스러운 빛나에게 이런 큰 사랑을 받는다는게 나에게는 하루하루가 기적이야 :) 그 기적을 받은 나는 빛나에게 내 사랑을 아낌없이 주고싶어..! 그리고 부트캠프(위코드) 및 직군 전향을 도전하는 빛나가 정말 멋지며 그만큼 내가 힘이 되어주고 싶어 ..! 존중해주고 응원해줘서 고맙고  사랑해준 빛나에게 나는 더 큰 사랑으로 보답할게 :) 나의 가족이 빛나라는 사실이 너무 행복하다.. 나와 결혼해 줘서 고마워.. 사랑해 빛나야', $('.step').eq(1));
      //   //   });
      //   // }, 2000);
      // }

      // function step02() {
      //   disableBtn(true);
      //   $step.addClass('on');
      //   let positionH = $step.eq(2).offset().top;
      //   move(positionH, 3000);

      //   setTimeout(function () {
      //     $step.eq(2).find('.binna').animate({
      //       opacity: 1
      //     }, 2000, function () {
      //       typing('빛나는 어느덧 대학생이 되어 수원역 푸드코트에서 아르바이트를 하게 되었어요. 그러던 중 주방에서 나시고랭을 볶던 한 남자를 발견했어요. 그 남자의 이름은 성주였고 그렇게 둘의 첫 만남이 시작되었어요.', $('.step').eq(2));
      //     });
      //   }, 2000);

      //   setTimeout(function () {
      //     $step.eq(2).find('.seongju').animate({
      //       opacity: 1
      //     }, 2000);
      //   }, 2000);
      // }

      // function step03() {
      //   disableBtn(true);
      //   $step.addClass('on');
      //   let positionH = $step.eq(3).offset().top;
      //   move(positionH, 3000);

      //   setTimeout(function () {
      //     $step.eq(3).find('.binna').animate({
      //       opacity: 1
      //     }, 2000, function () {
      //       typing('빛나와 성주는 처음 만났을 때부터 서로에게 호감이 있어서 대학교 때 만남을 가지게 되었어요. 서로 좋아하는 마음만 있으면 이쁘게 만날 줄 알았어요.. 서로 어렸던 걸까요..? 서툴렀었던 걸까요..? 서로에게 아쉬움만 남긴채 한달간의 짧은 만남은 끝이 났어요..', $('.step').eq(3));
      //     });
      //   }, 2000);

      //   setTimeout(function () {
      //     $step.eq(3).find('.seongju').animate({
      //       opacity: 1
      //     }, 2000);
      //   }, 2000);
      // }

      // function step04() {
      //   disableBtn(true);
      //   $step.addClass('on');
      //   let positionH = $step.eq(4).offset().top;
      //   move(positionH, 3000);

      //   setTimeout(function () {
      //     typing('그로 부터 몇년이 흘렀을까요..? 세상은 많이 변해있었어요. 빛나와 성주는 어느새 직장인이 되어 바쁜 하루하루를 살아가고 있었어요. 하지만 서로에 대한 기억은 간직하고 있던걸까요..? 아니면 우연일까요..? 빛나와 성주의 회사가 가깝다는 것을 서로 알게 되었어요. 빛나와 성주는 강남에서 만나게 되었어요.', $('.step').eq(4));
      //   }, 2000);
      // }

      // function step05() {
      //   disableBtn(true);
      //   $step.addClass('on');
      //   let positionH = $step.eq(5).offset().top;
      //   move(positionH, 3000);

      //   setTimeout(function () {
      //     $step.eq(5).find('.binna').animate({
      //       opacity: 1
      //     }, 2000, function () {
      //       typing('서로 반가워서 일 수도 있어요. 아니면 회사가 힘들어서 일 수도 있죠. 빛나와 성주는 그동안 못다한 얘기를 쏟아내듯 펑펑 했어요. 연락도 잦아졌어요. 밤새도록 통화도 했어요. 나중에 서로 만나는 사람이 없으면 같이 담양에 가기로 약속도 잡았죠. 약속은 어떻게 되었을까요..?', $('.step').eq(5));
      //     });
      //   }, 2000);

      //   setTimeout(function () {
      //     $step.eq(5).find('.seongju').animate({
      //       opacity: 1
      //     }, 2000);
      //   }, 2000);
      // }

      // function step06() {
      //   disableBtn(true);
      //   $step.addClass('on');
      //   let positionH = $step.eq(6).offset().top;
      //   move(positionH, 3000);

      //   setTimeout(function () {
      //     $step.eq(6).find('.binna').animate({
      //       opacity: 1
      //     }, 1000, function () {
      //       typing('운명은 자신이 만들어 가는거라 생각했어요. 하지만 운명에는 말로 설명하기 힘든 것이 있어요. 그건 겪어봐야 아는 것 같아요. 저는 빛나를 만났을 때 운명을 느꼈고, 지금도 놀라고 있으며, 앞으로도 빛나와의 행복한 미래가 운명처럼 다가오고 있음을 느껴요.', $('.step').eq(6));
      //     });
      //   }, 2000);

      //   setTimeout(function () {
      //     $step.eq(6).find('.seongju').animate({
      //       opacity: 1
      //     }, 2000);
      //   }, 2000);
      //   setTimeout(function () {
      //     $step.eq(6).find('.heart').animate({
      //       opacity: 1
      //     }, 2000);
      //   }, 3000);
      // }

      // function step07() {
      //   disableBtn(true);
      //   $step.addClass('on');
      //   let positionH = $step.eq(7).offset().top;
      //   move(positionH, 3000);

      //   setTimeout(function () {
      //     $step.eq(7).find('.heart').animate({
      //       opacity: 1
      //     }, 2000, function () {
      //       typing('빛나라서 참 좋았고. 빛나라서 행복한. 사랑은 그런 것 같아 빛나야. 우리 사랑했던 나날들을 기억하며 그렇게 늘 함께 했으면 좋겠어. 영원히 사랑해. 나와 결혼해줘 빛나야.', $('.step').eq(7));
      //     });
      //   }, 2000);
      // }

      // function move(positionH, spped) {
      //   $screen.animate({
      //     scrollTop: positionH
      //   }, spped, 'easeOutQuint');
      // }

      function typing(text, target) {
        let typingBool = false;
        let typingIdx = 0;
        let typingTxt = text;
        let tyInt = null;

        typingTxt = typingTxt.split("");
        if (typingBool == false) {
          typingBool = true;
          tyInt = setInterval(typing, 250);
        }
        target.find('.typing').css('opacity', '1');
        function typing() {
          if (typingIdx < typingTxt.length) {
            target.find('.typing').append(typingTxt[typingIdx]);
            typingIdx++;
          } else {
            clearInterval(tyInt);
            disableBtn(false);
          }
        }
      }

      // function disableBtn(bln) {
      //   $nextBtn.attr("disabled", bln);
      // }

    });

  </script>

</head>

<body>

  <div class="story">

    <article class="step">
      <div class="typing"></div>
    </article>

    <!-- <article class="step">
      <div class="typing"></div>
      <div class="binna"><img src="./common/images/binna_baby.gif" alt="" /></div>
    </article> -->

  </div>

  <div id="petalCanvas" style="position:fixed;top:0;z-index:999;height:0;overflow:visible;">
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
    <span>*</span><span>*</span><span>*</span><span>*</span><span>*</span><span>*</span>
  </div>
</body>